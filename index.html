<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" href="/favicon.ico" sizes="any">
        <title>Fry Lab App</title>
        <script src="https://telegram.org/js/telegram-web-app.js"></script>
        <script src="skiko.js"></script>
    </head>
    <body>
        <canvas id="ComposeTarget"></canvas>
        <script type="application/javascript" src="composeApp.js"></script>

        <script>
            // Дожидаемся загрузки DOM
            document.addEventListener("DOMContentLoaded", function () {
                // Проверяем, доступен ли объект Telegram WebApp
                if (window.Telegram && window.Telegram.WebApp) {
                    // Инициализируем объект WebApp
                    const webApp = window.Telegram.WebApp;

                    // Получаем initDataUnsafe и queryId
                    const initDataUnsafe = webApp.initDataUnsafe;

                    // Проверяем, есть ли queryId
                    if (initDataUnsafe && initDataUnsafe.query_id) {
                        const queryId = initDataUnsafe.query_id;
                        alert("Query ID: " + queryId);
                        // Выводим queryId на страницу или используем как нужно
                        document.body.innerHTML += `<p>Query ID: ${queryId}</p>`;
                    } else {
                         alert("Query ID not found, Query ID:" + queryId);
                    }
                } else {
                    alert("Telegram WebApp is not available");
                }
            });
        </script>
    </body>
</html>
